<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home - Canteen</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-white text-black">

<!-- Navbar for Logged-in Users -->
<header class="w-full bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-20">
      <a href="/home" class="flex items-center gap-2">
        <img src="/images/logoCanteen.png" alt="Logo" class="h-12 object-contain">
      </a>
      <nav class="flex gap-6 items-center text-sm font-medium text-gray-700">
        <a href="/home" class="hover:text-red-600">Home</a>
        <a href="/orders" class="hover:text-red-600">My Orders</a>
        <a href="/track" class="hover:text-red-600">Track</a>
        <a href="/cart" class="hover:text-red-600 flex items-center gap-1">
          <i class="fas fa-shopping-cart"></i> Cart (<%= cartCount %>)
        </a>
        <a href="/logout" class="text-red-600 hover:text-red-800 flex items-center gap-1">
          <i class="fas fa-sign-out-alt"></i> Logout
        </a>
      </nav>
    </div>
  </div>
</header>
<!-- Carousel -->
<section class="max-w-7xl mx-auto my-6 px-4 sm:px-6 lg:px-2">
  <div class="relative">
    <div class="carousel overflow-hidden rounded-lg shadow-md relative">
      <div class="carousel-inner flex transition-transform duration-700 ease-in-out" style="width: 300%;">

      <!-- Slide 1: Order from Your Desk -->
      <div class="w-full flex flex-col md:flex-row items-center justify-between p-6 h-96"
          style="background: linear-gradient(to right, #dc2626 30%, #dc2626 50%, #ffffff 100%);">
        <!-- Text Section -->
        <div class="md:w-1/2 md:pr-10 text-center md:text-left">
          <h2 class="text-3xl font-bold text-white">Order from Your Desk</h2>
          <p class="mt-4 text-lg text-white">No more standing in line. Place your order online and collect it when it's ready.</p>
          
          <div class="mt-6 flex gap-4 justify-center md:justify-start">
            <!-- Button 1: Solid Yellow -->
            <a href="/menu" class="px-5 py-2 bg-yellow-400 text-red-700 font-semibold rounded hover:bg-yellow-500 transition">Order Now</a>

            <!-- Button 2: Yellow Border -->
            <a href="/offers" class="px-5 py-2 border-2 border-yellow-400 text-white font-semibold rounded hover:bg-yellow-400 hover:text-red-700 transition">See Offers</a>
          </div>
        </div>

        <!-- Image Section -->
        <div class="md:w-1/2">
          <img src="/images/item1.png" class="rounded-lg w-full max-h-80 object-contain" alt="Ordering from desk" />
        </div>
      </div>

        <!-- Slide 2: Real-Time Tracking -->
      <div class="w-full flex flex-col md:flex-row items-center justify-between p-6 h-96"
          style="background: linear-gradient(to right, #dc2626 30%, #dc2626 50%, #ffffff 100%);">
          <div class="md:w-1/2 md:pr-10 text-center md:text-left">
            <h2 class="text-3xl font-bold text-white">Track Your Order in Real Time</h2>
            <p class="mt-4 text-lg text-white">Keep an eye on your order status so you know exactly when it's ready for pickup — no guesswork.</p>
          <div class="mt-6 flex gap-4 justify-center md:justify-start">
            <!-- Button 1: Solid Yellow -->
            <a href="/menu" class="px-5 py-2 bg-yellow-400 text-red-700 font-semibold rounded hover:bg-yellow-500 transition">Order Now</a>

            <!-- Button 2: Yellow Border -->
            <a href="/offers" class="px-5 py-2 border-2 border-yellow-400 text-white font-semibold rounded hover:bg-yellow-400 hover:text-red-700 transition">See Offers</a>
          </div>
          </div>
          <div class="md:w-1/2 mt-6 md:mt-0">
            <img src="/images/item2.png" class="rounded-lg w-full max-h-80 object-contain" alt="Order Tracking" />
          </div>
        </div>

        <!-- Slide 3: Hot & Ready Pickup -->
      <div class="w-full flex flex-col md:flex-row items-center justify-between p-6 h-96"
          style="background: linear-gradient(to right, #dc2626 30%, #dc2626 50%, #ffffff 100%);">
          <div class="md:w-1/2 md:pr-10 text-center md:text-left">
            <h2 class="text-3xl font-bold text-white">Hot & Ready for Pickup</h2>
            <p class="mt-4 text-lg text-white">Your meal is freshly prepared and waiting — just head over when your status says ready.</p>
          <div class="mt-6 flex gap-4 justify-center md:justify-start">
            <!-- Button 1: Solid Yellow -->
            <a href="/menu" class="px-5 py-2 bg-yellow-400 text-red-700 font-semibold rounded hover:bg-yellow-500 transition">Order Now</a>

            <!-- Button 2: Yellow Border -->
            <a href="/offers" class="px-5 py-2 border-2 border-yellow-400 text-white font-semibold rounded hover:bg-yellow-400 hover:text-red-700 transition">See Offers</a>
          </div>
          </div>
          <div class="md:w-1/2 mt-6 md:mt-0">
            <img src="/images/item1.png" class="rounded-lg w-full max-h-80 object-contain" alt="Hot Food Ready for Pickup" />
          </div>
        </div>

      </div>
    </div>
  </div>
</section>

<!-- Main Content with Sidebar -->
<section id="menu" class="flex flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
  <!-- Sidebar -->
  <aside class="hidden md:block w-[18%] p-6 text-sm space-y-6">
    <div class="rounded-lg">
      <h3 class="text-lg font-semibold mb-6 text-gray-800">Filter by Category</h3>
      <ul class="space-y-3 text-sm font-medium text-gray-700">
        <li><a href="/menu/drinks" class="flex items-center gap-3 px-4 py-2 rounded hover:bg-red-50 hover:text-red-600"><i class="fas fa-glass-martini-alt text-red-500"></i> Drinks</a></li>
        <li><a href="/menu/breakfast" class="flex items-center gap-3 px-4 py-2 rounded hover:bg-red-50 hover:text-red-600"><i class="fas fa-hamburger text-red-500"></i> Breakfast</a></li>
        <li><a href="/menu/lunch" class="flex items-center gap-3 px-4 py-2 rounded hover:bg-red-50 hover:text-red-600"><i class="fas fa-hamburger text-red-500"></i> Lunch</a></li>
        <li><a href="/menu/snacks" class="flex items-center gap-3 px-4 py-2 rounded hover:bg-red-50 hover:text-red-600"><i class="fas fa-pizza-slice text-red-500"></i> Snacks</a></li>
        <li><a href="/menu/desserts" class="flex items-center gap-3 px-4 py-2 rounded hover:bg-red-50 hover:text-red-600"><i class="fas fa-ice-cream text-red-500"></i> Desserts</a></li>
        <li><a href="/menu/specials" class="flex items-center gap-3 px-4 py-2 rounded hover:bg-red-50 hover:text-red-600"><i class="fas fa-star text-red-500"></i> Specials</a></li>
      </ul>
    </div>
  </aside>

  <!-- Menu Grid -->
  <section class="flex-1 p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    <% if (items && items.length > 0) { %>
      <% items.forEach(item => { %>
        <div class="bg-white rounded-lg shadow hover:shadow-md border border-gray-100 hover:border-red-300 transition flex flex-col">
          <div class="h-36 flex items-center justify-center rounded-t-lg">
            <img src="<%= item.image %>" alt="<%= item.name %>" class="h-32 w-32 object-contain" />
          </div>
          <div class="p-4 flex flex-col flex-grow">
            <h3 class="text-lg font-semibold text-gray-800"><%= item.name %></h3>
            <p class="text-sm text-gray-600 mt-1 h-16 overflow-hidden"><%= item.description %></p>
            <p class="text-red-600 font-bold mt-2">R <%= item.price %></p>
            <div class="flex justify-between mt-auto pt-4">
              <form action="/add-to-cart" method="POST">
                <input type="hidden" name="itemId" value="<%= item._id %>">
                <button type="submit" class="text-gray-700 border px-3 py-1 rounded hover:bg-gray-100">
                  <i class="fas fa-shopping-cart"></i> Cart
                </button>
              </form>
              <form action="/buy-now" method="POST">
                <input type="hidden" name="itemId" value="<%= item._id %>">
                <button type="submit" class="text-sm bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700">
                  Buy Now
                </button>
              </form>
            </div>
          </div>
        </div>
      <% }); %>
    <% } else { %>
      <p class="col-span-full text-center text-red-600 font-bold">No items available in this category.</p>
    <% } %>
  </section>
</section>

</body>
<!-- Carousel JavaScript -->
<script>
  const carouselInner = document.querySelector('.carousel-inner');
  const totalSlides = carouselInner.children.length;
  let currentSlide = 0;

  setInterval(() => {
    currentSlide = (currentSlide + 1) % totalSlides;
    carouselInner.style.transform = `translateX(-${currentSlide * (100 / totalSlides)}%)`;
  }, 6000); // 6 seconds per slide
</script>
</html>

